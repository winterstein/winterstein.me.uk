<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<!-- Explicit Content-Security-Policy is required for the GoodLoop app -->
		<meta http-equiv="Content-Security-Policy" content="default-src * gap://ready file:; style-src 'self' 'unsafe-inline' *; script-src 'self' 'unsafe-inline' 'unsafe-eval' *; media-src * 'self' data: https: http:; img-src * data: 'unsafe-inline'; connect-src * 'unsafe-inline'; frame-src * 'unsafe-inline' 'unsafe-eval';">  

		<title>The Bookshop Murder</title>
		<link rel="shortcut icon" href="/favicon-32.png" />

		<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

		<link rel="stylesheet" type="text/css" href="/build/style/main.css">
		<link rel="stylesheet" type="text/css" href="/build/style/print.css" media="print">
		<link rel="stylesheet" type="text/css" href="murder.css">
	</head>
	<body>
		<div id="mainDiv"></div>
		<!-- Scripts -->
		<!-- everything comes via webpack -->
		<script>
			// Insert bundle[-debug].js - but allow dynamic test/production build switch.
			// Default to debug build on test and local servers.
			var isDebug = window.location.hostname.match(/^local/) || window.location.hostname.match(/^test/);
			
			// Has the user specified debug/production build with a URL param?
			var debugParam = (""+window.location).match(/debug=(\w+)/i); // NB: .search misses parameters after a #
			if (debugParam && debugParam[1]) {
				// Require an exact match to change from default
				if (debugParam[1] === 'false') isDebug = false;
				else if (debugParam[1] === 'true') isDebug = true;
			}
			
			var filename = isDebug ? 'bookshop-bundle-debug.js' : 'bookshop-bundle.js';
			if ( ! isDebug) filename += '?cb='+Math.random(); // force fresh loading on e.g. devices
			document.write('<script src="/build/js/' + filename + '"/><\/script>');
		</script>
		
		<script async src='//as.good-loop.com/pxl.js'></script>
		<img src='//lg.good-loop.com/pxl' style='position:absolute;bottom:0px;left:0px;width:1;height:1;'/>
	</body>
</html>
